<html>
    <head>
        <script>
            function login() {
                var state = document.getElementById("state");
                var xhr = new XMLHttpRequest();
                var headers = {
                    Authorization: "Basic " + window.btoa('test' + ":" + '1234'),
                    "X-Authorize": 'true',
                };
                
                xhr.open("GET", "http://localhost:9090/cockpit/login", true);
                for (k in headers)
                    xhr.setRequestHeader(k, headers[k]);
                xhr.onreadystatechange = function () {
                    if (xhr.readyState != 4) {
                        return;
                    } else if (xhr.status == 200) {
                        state.textContent = "available: " + xhr.responseText;
                        window.location.href = "http://localhost";
                    } else if (xhr.statusText) {
                        state.textContent = "not available: " + xhr.statusText;
                    } else {
                        state.textContent = "not available";
                    }
                }
                xhr.send();
            }
        </script>
    </head>
    <body onload=login()>
        <pre id="state" style="font-weight: bold;"></pre>
    </body>
</html>
